\hypertarget{01-adding-function_8cpp-example}{}\section{01-\/adding-\/function.\+cpp}
In this example we add a function to the tree (including a pointer to the arguments). This includes the definition of the class Tree\+Data, which is stored as args in the \hyperlink{classTree}{Tree} object.


\begin{DoxyCodeInclude}
\textcolor{preprocessor}{#include <iostream>}
\textcolor{preprocessor}{#include <vector>}
\textcolor{preprocessor}{#include "../include/pruner.hpp"}

\textcolor{comment}{// STEP 1: Need to declare this class}
\textcolor{keyword}{class }pruner::TreeData \{
  \textcolor{keywordtype}{int} nnodes;
\textcolor{keyword}{public}:
  
  ~TreeData() \{\};
  TreeData(\textcolor{keywordtype}{int} n): nnodes(n) \{\};
  
  \textcolor{keywordtype}{int} get\_nnodes() \{\textcolor{keywordflow}{return} this->nnodes;\};
  \textcolor{keywordtype}{void} set\_nnodes(\textcolor{keywordtype}{int} n) \{
    this->nnodes = n;
    \textcolor{keywordflow}{return};
  \};
\};

\textcolor{comment}{// STEP 2: Define a function to be passed to the algorithm}
\textcolor{keywordtype}{void} myfunction(
    pruner::TreeData * a,
    \hyperlink{classpruner_1_1TreeIterator}{pruner::TreeIterator} & iter) \{
  
  \textcolor{comment}{// Moving a single step up}
  printf(\textcolor{stringliteral}{"Currently sitting on the node %i.\(\backslash\)nCurrent parents are: "}, iter.\hyperlink{classpruner_1_1TreeIterator_aa0d37262febc59a1b229e98ce610b30a}{id}());
  \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = iter.\hyperlink{classpruner_1_1TreeIterator_ac401c51b2a8b33e7db63b850350c21ce}{begin\_par}(); i != iter.\hyperlink{classpruner_1_1TreeIterator_a89ccb546a2fc6add499ac54ecb5271f8}{end\_par}(); ++i) \{
    printf(\textcolor{stringliteral}{" %i"}, *i);
  \}
  printf(\textcolor{stringliteral}{"\(\backslash\)n"});
  
  iter.\hyperlink{classpruner_1_1TreeIterator_adca1d999f093a69e2f5d044b358e5da7}{up}();
  printf(\textcolor{stringliteral}{"Currently sitting on the node %i.\(\backslash\)nCurrent parents are: "}, iter.\hyperlink{classpruner_1_1TreeIterator_aa0d37262febc59a1b229e98ce610b30a}{id}());
  \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = iter.\hyperlink{classpruner_1_1TreeIterator_ac401c51b2a8b33e7db63b850350c21ce}{begin\_par}(); i != iter.\hyperlink{classpruner_1_1TreeIterator_a89ccb546a2fc6add499ac54ecb5271f8}{end\_par}(); ++i) \{
    printf(\textcolor{stringliteral}{" %i"}, *i);
  \}
  printf(\textcolor{stringliteral}{"\(\backslash\)n"});
  \textcolor{keywordflow}{return};
\}

\textcolor{keywordtype}{int} main () \{
  
  \textcolor{comment}{// Fake tree data}
  \hyperlink{namespacepruner_af0145646bd7ede012cd336b416bc5579}{pruner::v\_uint} source = \{0u, 0u, 1u, 2u, 3u\};
  \hyperlink{namespacepruner_af0145646bd7ede012cd336b416bc5579}{pruner::v\_uint} target = \{1u, 5u, 2u, 3u, 4u\};
  
  \textcolor{comment}{// Initialization of a tree object}
  \hyperlink{namespacepruner_a659e6e64a9e2b8e981c3d34262a2f67e}{pruner::uint} res;
  \hyperlink{classpruner_1_1Tree}{pruner::Tree} tree(source, target, res);
  
  \textcolor{comment}{// Looking at the data}
  tree.print();         
  
  \textcolor{comment}{// We can pass the function:}
  \textcolor{comment}{// Adding function arguments}
  tree.\hyperlink{classpruner_1_1Tree_afe84a58af72b0d544dcc7ceff96daf8d}{args} = \textcolor{keyword}{new} pruner::TreeData(1);
  tree.\hyperlink{classpruner_1_1Tree_a243f4077cc9974d6de6a6af0f3e9b0fd}{fun} = myfunction;
  
  \textcolor{comment}{// Calling functions}
  tree.\hyperlink{classpruner_1_1Tree_afe84a58af72b0d544dcc7ceff96daf8d}{args}->set\_nnodes(5);
  tree.\hyperlink{classpruner_1_1Tree_abaa9ef6d7eacf37302d29c12c2180c3a}{eval\_fun}();   \textcolor{comment}{// Implicit call}
  
  tree.\hyperlink{classpruner_1_1Tree_a7d465880d18acf79f3a772ea5412b0d7}{prune\_postorder}();
  
  \textcolor{keyword}{delete} tree.\hyperlink{classpruner_1_1Tree_afe84a58af72b0d544dcc7ceff96daf8d}{args};
  tree.\hyperlink{classpruner_1_1Tree_afe84a58af72b0d544dcc7ceff96daf8d}{args} = \textcolor{keyword}{nullptr};
  
  
  \textcolor{keywordflow}{return} 0;
  
\}
\end{DoxyCodeInclude}
 